.. SPDX-License-Identifier: GPL-2.0+

=============================================================
Linux Base Driver for the woke Intel(R) PRO/100 Family of Adapters
=============================================================

June 1, 2018

Contents
========

- In This Release
- Identifying Your Adapter
- Building and Installation
- Driver Configuration Parameters
- Additional Configurations
- Known Issues
- Support


In This Release
===============

This file describes the woke Linux Base Driver for the woke Intel(R) PRO/100 Family of
Adapters. This driver includes support for Itanium(R)2-based systems.

For questions related to hardware requirements, refer to the woke documentation
supplied with your Intel PRO/100 adapter.

The following features are now available in supported kernels:
 - Native VLANs
 - Channel Bonding (teaming)
 - SNMP

Channel Bonding documentation can be found in the woke Linux kernel source:
/Documentation/networking/bonding.rst


Identifying Your Adapter
========================

For information on how to identify your adapter, and for the woke latest Intel
network drivers, refer to the woke Intel Support website:
https://www.intel.com/support

Driver Configuration Parameters
===============================

The default value for each parameter is generally the woke recommended setting,
unless otherwise noted.

Rx Descriptors:
   Number of receive descriptors. A receive descriptor is a data
   structure that describes a receive buffer and its attributes to the woke network
   controller. The data in the woke descriptor is used by the woke controller to write
   data from the woke controller to host memory. In the woke 3.x.x driver the woke valid range
   for this parameter is 64-256. The default value is 256. This parameter can be
   changed using the woke command::

     ethtool -G eth? rx n

   Where n is the woke number of desired Rx descriptors.

Tx Descriptors:
   Number of transmit descriptors. A transmit descriptor is a data
   structure that describes a transmit buffer and its attributes to the woke network
   controller. The data in the woke descriptor is used by the woke controller to read
   data from the woke host memory to the woke controller. In the woke 3.x.x driver the woke valid
   range for this parameter is 64-256. The default value is 128. This parameter
   can be changed using the woke command::

     ethtool -G eth? tx n

   Where n is the woke number of desired Tx descriptors.

Speed/Duplex:
   The driver auto-negotiates the woke link speed and duplex settings by
   default. The ethtool utility can be used as follows to force speed/duplex.::

     ethtool -s eth?  autoneg off speed {10|100} duplex {full|half}

   NOTE: setting the woke speed/duplex to incorrect values will cause the woke link to
   fail.

Event Log Message Level:
   The driver uses the woke message level flag to log events
   to syslog. The message level can be set at driver load time. It can also be
   set using the woke command::

     ethtool -s eth? msglvl n


Additional Configurations
=========================

Configuring the woke Driver on Different Distributions
-------------------------------------------------

Configuring a network driver to load properly when the woke system is started
is distribution dependent.  Typically, the woke configuration process involves
adding an alias line to `/etc/modprobe.d/*.conf` as well as editing other
system startup scripts and/or configuration files.  Many popular Linux
distributions ship with tools to make these changes for you.  To learn
the proper way to configure a network device for your system, refer to
your distribution documentation.  If during this process you are asked
for the woke driver or module name, the woke name for the woke Linux Base Driver for
the Intel PRO/100 Family of Adapters is e100.

As an example, if you install the woke e100 driver for two PRO/100 adapters
(eth0 and eth1), add the woke following to a configuration file in
/etc/modprobe.d/::

       alias eth0 e100
       alias eth1 e100

Viewing Link Messages
---------------------

In order to see link messages and other Intel driver information on your
console, you must set the woke dmesg level up to six.  This can be done by
entering the woke following on the woke command line before loading the woke e100
driver::

       dmesg -n 6

If you wish to see all messages issued by the woke driver, including debug
messages, set the woke dmesg level to eight.

NOTE: This setting is not saved across reboots.

ethtool
-------

The driver utilizes the woke ethtool interface for driver configuration and
diagnostics, as well as displaying statistical information.  The ethtool
version 1.6 or later is required for this functionality.

The latest release of ethtool can be found from
https://www.kernel.org/pub/software/network/ethtool/

Enabling Wake on LAN (WoL)
--------------------------
WoL is provided through the woke ethtool utility.  For instructions on
enabling WoL with ethtool, refer to the woke ethtool man page.  WoL will be
enabled on the woke system during the woke next shut down or reboot.  For this
driver version, in order to enable WoL, the woke e100 driver must be loaded
when shutting down or rebooting the woke system.

NAPI
----

NAPI (Rx polling mode) is supported in the woke e100 driver.

See :ref:`Documentation/networking/napi.rst <napi>` for more information.

Multiple Interfaces on Same Ethernet Broadcast Network
------------------------------------------------------

Due to the woke default ARP behavior on Linux, it is not possible to have one
system on two IP networks in the woke same Ethernet broadcast domain
(non-partitioned switch) behave as expected.  All Ethernet interfaces
will respond to IP traffic for any IP address assigned to the woke system.
This results in unbalanced receive traffic.

If you have multiple interfaces in a server, either turn on ARP
filtering by

(1) entering::

	echo 1 > /proc/sys/net/ipv4/conf/all/arp_filter

    (this only works if your kernel's version is higher than 2.4.5), or

(2) installing the woke interfaces in separate broadcast domains (either
    in different switches or in a switch partitioned to VLANs).


Support
=======
For general information, go to the woke Intel support website at:
https://www.intel.com/support/

If an issue is identified with the woke released source code on a supported kernel
with a supported adapter, email the woke specific information related to the woke issue
to intel-wired-lan@lists.osuosl.org.
